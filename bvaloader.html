<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>
		BVALOADER - load and epoch Brain Vision data - without EEGlab
	</title>
	<meta name="author" content="stefan schinkel" />
	<meta name="Keywords" content=" EEG, ERP, EEGlab, BrainVision, Matlab, .vmrk, .vhdr,.eeg" />
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<meta name="robots" content="index" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<link rel="shortcut icon" href="img/favicon.ico" />


<!-- lightbox //-->
<script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="js/lightbox.js" type="text/javascript"></script>
<link href="css/lightbox.css" rel="stylesheet" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-31380322-1', 'auto');
  ga('send', 'pageview');

</script>

</head>
<body>


<div class="banner">
	<p>
<!-- 		<img src="img/freebsd.png" style="float:none" alt="A daemon"
		title="I'm a dang sight cuter than that penguin with the Huge Butt."/>
		<br /> -->
		<a href="index.html">Home</a> 	<br />
		<a href="#about">About</a>		<br />
		<a href="#content">Contents</a> <br />
		<a href="#requirements">Requirements</a> 	<br />
		<a href="#example">Example</a>			<br />
		<a href="#download">Download</a>		<br />
		<a href="#questions">Questions?</a>		<br />
	</p>
</div>


<div class="content">
<h3 class="subheading">
	BVALOADER - load and epoch Brain Vision data - without EEGlab
</h3>

<h4 class="subheading"> About:</h4>	<a name="about"></a>
<p> I work a lot with EEG data and do almost everything in Matlab - but I don't use EEGlab.
In order to still have a rather convenient access to BrainVision data I wrote some
functions to import such data.
Note: If you intend to use EEGlab for your analysis anyways,
you will be better of using the <a class="external" href="http://www.uni-leipzig.de/~biocog/content/widmann/eeglab-plugins/"> bva-io plugin by Andreas Widmann</a>.
</p>
<h4 class="subheading"> Contents:</h4><a name="contents"></a>
<dl>
	<dt>bva_readheader.m</dt>
	<dd> - read BrainVision Header (.vhdr) files</dd>
	<dt>bva_readmarker.m</dt>
	<dd> - read BrainVision Marker (.vmrk) files</dd>
	<dt>bva_loadeeg.m</dt>
	<dd>  - read BrainVision Data (.eeg) files</dd>
	<dt>bva_rt.m</dt>
	<dd> - extract reaction times from Marker (.vmrk) files</dd>
	<dt>bva_epoch.m</dt>
	<dd> - epochise continous EEG data (stimulus-locked)</dd>
	<dt>bva_epoch2.m</dt>
	<dd> - epochise continous EEG data (response-locked)</dd>
	<dt>bva_loadsubject.m</dt>
	<dd> - wrapper function</dd>
</dl>


<h4 class="subheading"> Requirements:</h4><a name="requirements"></a>
<ul>
	<li>
		<a href="http://www.mathworks.com/products/matlab/">MATLAB</a>
		(I use 2007, 2010a and 2010b so those should work, as well as any recent version)
	</li>
</ul>

<h4 class="subheading"> Example:</h4><a name="example"></a>

<p> Here is a short example how to use the functions. Imagine we have an EEG
recording featuring 2 distinct conditions (stimuli classes),
for simplicity 1 and 2. Also subjects had to give a response after the stimulus.
The correct response is encoded with 100.<br />
Here's  how to load such kind of data:
</p>

<pre>

% setup filenames, produced by BrainVision Recorder, if
% those are not given, the function will ask for them
headerFile = 'experiment.vhdr';
markerFile = 'experiment.vmrk';

% first get the continuous data as a matlab array
eeg = bva_loadeeg(headerFile);

% meta information such as samplingRate (fs), labels, etc
[fs label meta] = bva_readheader(headerFile);

% read the marker (.vrmk) and store codes
triggers = bva_readmarker('markerFile');

%setup stimlus and response codes
stimCode1 = 1;
stimCode2 = 2;
respCode = 100;

% and the interval of the segments (trials)
pre = 300;  % 300ms pre-stimulus interval
post = 1000 % 1000ms post-stimulus interval

% epoch continuous data for both stimulus codes,
% and also get the reaction times
[condition1 rt1] = bva_epoch(eeg,trigger,stimCode1,pre,post,fs,respCode);
[condition2 rt2] = bva_epoch(eeg,trigger,stimCode2,pre,post,fs,respCode);

% epoch continuous data for both stimulus codes and get reaction times
% but this time locked to the response, not the stimulus
[condition1respLocked rt1] = bva_epoch2(eeg,trigger,stimCode1,pre,post,fs,respCode);
[condition2respLocked rt2] = bva_epoch2(eeg,trigger,stimCode2,pre,post,fs,respCode);


% or use the GUI
</pre>

<a href="img/bvagui.png" rel="lightbox" title="Note that for using the GUI you have to save the continuous data as a Matlab (.mat) file first.">
<img src="img/bvagui.png" width="250" alt="The GUI for rqaci" /></a>


<p> Note: When using this GUI you need to save the continuous EEG data as a Matlab (.mat) file. If you find that too annoying, drop me a
line and I can fix that. </p>
<pre>
eeg = bva_loadeeg(headerFile);
save eeg.mat eeg;
</pre>
<p> Alternatively, the  BrainVision Analyzer can do that for you.</p>

<h4 class="subheading"> Download:</h4><a name="download"></a>
         <span class="bold"><a  class="download"  href="download/bvaloader.zip">bvaloader.zip </a></span>
          &mdash; version: 9543&hellip;1723
         &nbsp;&nbsp;&nbsp; md5: 03246b577bb259f39e12f39db65d1baf
         <br />


<h4 class="subheading"> Questions/Requests? :</h4>	<a name="questions"></a>

<ins>
<span style="display:inline;" id="ophyscator"></span>
<script type="text/javaScript">

var a = new Array('d','r','g','e','i','g','@','o','e','r','m','.','l','a');
var b = new Array('g','d','r','r','e','@','a','l','m','g','i','.','e','o');
var str = "<a href='mailto:"+a[10]+a[13]+a[4]+a[12]+a[6]+a[0]+a[1]+a[3]+a[8]+a[2]+a[11]+a[7]+a[9]+a[5]+"'>"+b[8]+b[6]+b[10]+b[7]+b[5]+b[1]+b[2]+b[4]+b[12]+b[9]+b[11]+b[13]+b[3]+b[0]+"<\/a>";

document.getElementById('ophyscator').innerHTML = str;
</script>
<noscript>
<p>Sorry, you need to have JavaScript enabled to get the mail address</p></noscript>
</ins>


<p style="text-align: right; font-size: smaller;"><a href="#top">Top</a></p>
</div>

<div style="text-align: center;">
	<hr style="width: 80%;" />
	<hr style="width: 65%;" />
Last modified 04/24/2015
</div>

<p style="position: absolute;bottom: .05em;right: .3em; position: fixed;">
<a href="https://github.com/stefanSchinkel" style="text-decoration:none;">
	<img style="border:0;width:88px;height:36px" src="img/GitHubLogo.png" alt="GitHub"
		title="Find me on github"/></a><br />


</p>


</body>
</html>
