<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>
		BVARENAME - rename BrainVision data and header files
	</title>
	<meta name="author" content="stefan schinkel" />
	<meta name="Keywords" content=" EEG, BrainVision, Matlab, .vmrk, .vhdr,.eeg, renaming, python" />
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<meta name="robots" content="index" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<link rel="shortcut icon" href="img/favicon.ico" />


<!-- lightbox //-->
<script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="js/lightbox.js" type="text/javascript"></script>
<link href="css/lightbox.css" rel="stylesheet" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-31380322-1', 'auto');
  ga('send', 'pageview');

</script>

</head>
<body>


<div class="banner">
	<p>
<!-- 		<img src="img/freebsd.png" style="float:none" alt="A daemon"
		title="I'm a dang sight cuter than that penguin with the Huge Butt."/>
		<br /> -->
		<a href="index.html">Home</a> 	<br />
		<a href="#about">About</a>		<br />
		<a href="#content">Contents</a> <br />
		<a href="#requirements">Requirements</a> 	<br />
		<a href="#example">Example</a>			<br />
		<a href="#download">Download</a>		<br />
		<a href="#questions">Questions?</a>		<br />
	</p>
</div>


<div class="content">
<h3 class="subheading">
	BVARENAME - rename BrainVision data and header files
</h3>

<h4 class="subheading"> About:</h4>	<a name="about"></a>
<p> Sometimes one has to rename <a href="http://www.brainproducts.com/productdetails.php?id=21"> BrainVision Recorder</a>
output files (eg. if subject coding changes, or you entered the wrong filename, etc.). This involves changing the actual filenames
<span class="boldRed"> and</span> rewriting the header (.vhdr) and marker (.vmrk) files.
Doing this manually is clearly too error-prone.
I had to do this and thus wrote a very simple Python script to take care of that.
Maybe you can use that too.<br />
 <span class="boldRed">Important note:
This function works in-place!</span></p>

<h4 class="subheading"> Contents:</h4><a name="contents"></a>
<dl>
	<dt>bvaRename.py</dt>
	<dd> - the actual thing</dd>

</dl>


<h4 class="subheading"> Requirements:</h4><a name="requirements"></a>
<ul>
	<li>
		Python - I hacked this on 2.6. But it should work w/ older releases as well (nothing fancy there)
	</li>
</ul>

<h4 class="subheading"> Example:</h4><a name="example"></a>

<p> Download the script and make it executable. Also add it to $PATH so it can be called
from anywhere
</p>

<pre>

# make executable
chmod u+x bvaRename.py
# add path (in Bash and the likes)
export PATH=$PATH:/path/to/bvaRename.py
# add path (in CSH)
setenv PATH "${PATH}:/path/to/bvaRename.py
</pre>

<p> Now for the actual renaming. Imagine you ran 4 experiments (motor, visual, emotional and cognitive)
and the subject code was XYZ_0001. Now it turns out, the code was supposed to be subject02.
</p>
<pre>
user@host~/temp$ ls
XYZ_0001cognitive.eeg  	XYZ_0001visual.vhdr
XYZ_0001cognitive.vhdr 	XYZ_0001visual.vmrk
XYZ_0001cognitive.vmrk 	XYZ_0001motor.eeg
XYZ_0001emotional.eeg   XYZ_0001motor.vhdr
XYZ_0001emotional.vhdr  XYZ_0001motor.vmrk
XYZ_0001emotional.vmrk
XYZ_0001visual.eeg
</pre>
<p> Now rename everyting</p>
<pre>
user@host~/temp$ bvaRename.py XYZ_0001 subject02

Rewriting XYZ_0001cognitive.vhdr to subject02cognitive.vhdr
Rewriting XYZ_0001cognitive.vmrk to subject02cognitive.vmrk
Renaming XYZ_0001cognitive.eeg to subject02cognitive.eeg
Rewriting XYZ_0001emotional.vhdr to subject02emotional.vhdr
Rewriting XYZ_0001emotional.vmrk to subject02emotional.vmrk
Renaming XYZ_0001emotional.eeg to subject02emotional.eeg
Rewriting XYZ_0001visual.vhdr to subject02visual.vhdr
Rewriting XYZ_0001visual.vmrk to subject02visual.vmrk
Renaming XYZ_0001visual.eeg to subject02visual.eeg
Rewriting XYZ_0001motor.vhdr to subject02motor.vhdr
Rewriting XYZ_0001motor.vmrk to subject02motor.vmrk
Renaming XYZ_0001motor.eeg to subject02motor.eeg
All done. Have a nice day
</pre>
<p>
The data files are now renamed and the reference in the header/marker
files is set accordingly.
</p>
<pre>
user@host~/temp$ ls
subject02cognitive.eeg  	subject02visual.vhdr
subject02cognitive.vhdr 	subject02visual.vmrk
subject02cognitive.vmrk 	subject02motor.eeg
subject02emotional.eeg   	subject02motor.vhdr
subject02emotional.vhdr  	subject02motor.vmrk
subject02emotional.vmrk
subject02visual.eeg
</pre>
<p>
In the same manner one could have changed visual to motor, motor to cognitive and so on.
<h4 class="subheading"> Download:</h4><a name="download"></a>
         <span class="bold">
         <a  class="download"  href="download/bvaRename.py">bvaRename.py </a>
         </span>
          &mdash; version: 0.01
         &nbsp;&nbsp;&nbsp; md5: 5e3726f70f127c958df3917b6a2b6245
         <br />


<h4 class="subheading"> Questions/Requests? :</h4>	<a name="questions"></a>

<ins>
<span style="display:inline;" id="ophyscator"></span>
<script type="text/javaScript">

var a = new Array('d','r','g','e','i','g','@','o','e','r','m','.','l','a');
var b = new Array('g','d','r','r','e','@','a','l','m','g','i','.','e','o');
var str = "<a href='mailto:"+a[10]+a[13]+a[4]+a[12]+a[6]+a[0]+a[1]+a[3]+a[8]+a[2]+a[11]+a[7]+a[9]+a[5]+"'>"+b[8]+b[6]+b[10]+b[7]+b[5]+b[1]+b[2]+b[4]+b[12]+b[9]+b[11]+b[13]+b[3]+b[0]+"<\/a>";

document.getElementById('ophyscator').innerHTML = str;
</script>
<noscript>
<p>Sorry, you need to have JavaScript enabled to get the mail address</p></noscript>
</ins>

<p style="text-align: right; font-size: smaller;"><a href="#top">Top</a></p>
</div>

<div style="text-align: center;">
	<hr style="width: 80%;" />
	<hr style="width: 65%;" />
Last modified 04/24/2015
</div>

<p style="position: absolute;bottom: .05em;right: 1.5em; position: fixed;">
<a href="https://github.com/stefanSchinkel" style="text-decoration:none;">
    <img style="border:0;width:88px;height:36px" src="img/GitHubLogo.png" alt="GitHub"
        title="Find me on github"/></a><br />
</p>


</body>
</html>
